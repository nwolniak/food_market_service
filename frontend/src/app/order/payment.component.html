<div class="p-4">
  <div class="container">
    <div class="card">
      <div class="card-header">
        <h1>Payment details</h1>
      </div>
      <div class="card-body">
        <table *ngIf="order" class="table m-0">
          <thead class="table-light">
          <tr>
            <th>Product name</th>
            <th>Quantity</th>
            <th>Unit Price</th>
            <th>Sum</th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let orderItem of order.orderItems">
            <td>{{orderItem.item.name}}</td>
            <td>{{orderItem.quantity}}</td>
            <td>{{orderItem.item.unitPrice}}</td>
            <td>{{(orderItem.quantity * parseFloat(orderItem.item.unitPrice)).toFixed(2)}} &dollar;</td>
          </tr>
          </tbody>
        </table>
      </div>
      <div *ngIf="order" class="card-footer">
        <h5 class="font-weight-bold">Total: {{order.price.toFixed(2)}} &dollar;</h5>
      </div>
    </div>

    <div class="btn-group-lg mt-3">
      <button class="btn btn-outline-success" (click)="pay(order!)" [disabled]="order?.isAction">
        <span *ngIf="order?.isAction" class="spinner-border spinner-border-sm me-1"></span>
        Pay now
      </button>
      <button class="btn btn-outline-danger" [disabled]="order?.isAction" routerLink="../..">Cancel</button>
    </div>
  </div>
</div>
