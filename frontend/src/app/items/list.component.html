<div class="p-4">
  <div class="container">
    <h1>Items</h1>
    <a routerLink="add" class="btn btn-success mb-2">Add Item</a>
    <table class="table table-striped">
      <thead class="table-secondary">
      <tr>
        <th style="width: 14%" direction="asc" sortable="id" (sort)="onSort($event)">Id</th>
        <th style="width: 14%" sortable="name" (sort)="onSort($event)">Name</th>
        <th style="width: 14%" sortable="category" (sort)="onSort($event)">Category</th>
        <th style="width: 14%" sortable="unitType" (sort)="onSort($event)">Unit Type</th>
        <th style="width: 14%" sortable="unitPrice" (sort)="onSort($event)">Unit Price</th>
        <th style="width: 14%" sortable="description" (sort)="onSort($event)">Description</th>
        <th style="width: 16%"></th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let item of items">
        <td>{{item.id}}</td>
        <td>{{item.name}}</td>
        <td>{{item.category}}</td>
        <td>{{item.unitType}}</td>
        <td>{{item.unitPrice}} &dollar;</td>
        <td>{{item.description}}</td>
        <td style="white-space: nowrap">
          <button (click)="addItemToCart(item)" class="btn btn-sm btn-success" style="width: 60px"
                  [disabled]="item.isBuying">
            <span *ngIf="item.isBuying" class="spinner-border spinner-border-sm"></span>
            <span *ngIf="!item.isBuying">Buy</span>
          </button>
          <a routerLink="edit/{{item.id}}" class="btn btn-sm btn-primary" style="width: 60px">Edit</a>
          <button (click)="deleteItem(item)" class="btn btn-sm btn-danger me-2" style="width: 60px"
                  [disabled]="item.isDeleting">
            <span *ngIf="item.isDeleting" class="spinner-border spinner-border-sm"></span>
            <span *ngIf="!item.isDeleting">Delete</span>
          </button>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
